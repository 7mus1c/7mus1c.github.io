# 算法
## 数据结构与算法是什么？

### 数据结构
数据结构：计算机存储、组织数据的方式，就像锅碗瓢盆。

### 算法
算法：一系列解决问题的清晰指令，就像食谱。

### 数据结构与算法的关系
程序 = 数据结构 + 算法。
数据结构为算法提供服务，算法围绕数据结构提供操作。


## 时间复杂度和空间复杂度

### 时间复杂度

时间复杂度就是一个函数，使用 O 来表示，用来描述该算法的运行时间。比如 O(1)表示常数时间，O(logn)表示对数时间，O(n)表示线性时间，O(n^2)表示平方时间等。

**他们的执行效率是 O(1) < O(logn) < O(n) < O(n^2) < O(n^3) < O(2^n) < O(n!) < O(n^n)**

#### 常数时间 （最快）

例子：直接拿一杯已经做好的奶茶（不管有多少人排队，你都能立刻拿到）。
特点：不管 n 多大，时间都是固定的，不会变。

常数时间就是 O(1)，表示无论输入数据多大，算法的运行时间都是一样的，比如：

```javascript
function add(a, b) {
  return a + b;
}
```

无论输入的 a 和 b 是多少，运行时间都是一样的，所以时间复杂度是 O(1)。

#### 对数时间（非常快）

例子：用二分查找法在**已经排好序**的奶茶订单里找你的名字（每次排除一半，1000 个订单最多查 10 次）。
特点：数据量翻倍，时间只增加一点点（比如 n=1000 时查 10 次，n=1000000 时查 20 次）。

对数时间就是 O(logn)，表示算法的运行时间与输入数据的大小成对数关系，比如：

```javascript
function binarySearch(arr, target) {
  let left = 0;
  let right = arr.length - 1;
  while (left <= right) {
    let mid = Math.floor((left + right) / 2); // 向下取整
    if (arr[mid] === target) {
      return mid;
    } else if (arr[mid] < target) {
      left = mid + 1;
    } else {
      right = mid - 1;
    }
  }
  return -1;
}
```

这个算法是二分查找算法，它的运行时间与输入数据的大小成对数关系，所以时间复杂度是 O(logn)。

#### 线性时间（还不错）

例子：排队买奶茶，队伍有 n 个人，你要等 n 个人都买完才能轮到你。
特点：时间随 n 正比增长（100 人排 100 分钟，1000 人排 1000 分钟）。

线性时间就是 O(n)，表示算法的运行时间与输入数据的大小成线性关系，比如：

```javascript
function linearSearch(arr, target) {
  for (let i = 0; i < arr.length; i++) {
    if (arr[i] === target) {
      return i;
    }
  }
}
```

这个算法是线性查找算法，它的运行时间与输入数据的大小成线性关系，所以时间复杂度是 O(n)。

#### 平方时间（开始变慢）

例子：每个人买奶茶时，都要和其他 n-1 个人打招呼（比如 n=100，就要打招呼 100×100=10000 次）。
特点：n 翻倍，时间变 4 倍（n=10 时 100 次操作，n=100 时 10000 次）。

平方时间就是 O(n^2)，表示算法的运行时间与输入数据的大小成平方关系，比如：

```javascript
function bubbleSort(arr) {
  let len = arr.length;
  for (let i = 0; i < len; i++) {
    for (let j = 0; j < len - i - 1; j++) {
      if (arr[j] > arr[j + 1]) {
        [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];
      }
    }
  }
}
```

这个算法是冒泡排序算法，它的运行时间与输入数据的大小成平方关系，所以时间复杂度是 O(n^2)。

#### 立方时间（很慢）

例子：每个人买奶茶时，还要和其他 n-1 个人握手，并且再和另外 n-1 个人聊天（三重循环）。
特点：n 稍微大一点，时间就爆炸（n=100 时 100 万次操作）。

立方时间就是 O(n^3)，表示算法的运行时间与输入数据的大小成立方关系，比如：

```javascript
function threeLoop(arr) {
  let len = arr.length;
  for (let i = 0; i < len; i++) {
    for (let j = 0; j < len; j++) {
      for (let k = 0; k < len; k++) {
        // do something
      }
    }
  }
}
```

这个算法是三重循环算法，它的运行时间与输入数据的大小成立方关系，所以时间复杂度是 O(n^3)。

#### 指数时间（超级慢）

例子：奶茶店每天推出新口味，你要尝试所有可能的组合（比如有 n 种配料，组合方式有 2ⁿ 种）。
特点：n 每增加 1，时间翻倍（n=20 时 100 万种组合，n=30 时 10 亿种）。

指数时间就是 O(2^n)，表示算法的运行时间与输入数据的大小成指数关系，比如：

```javascript
function fibonacci(n) {
  if (n <= 1) {
    return n;
  }
  return fibonacci(n - 1) + fibonacci(n - 2);
}
```

这个算法是斐波那契数列算法，它的运行时间与输入数据的大小成指数关系，所以时间复杂度是 O(2^n)。

#### 阶乘时间（慢到离谱）

例子：你要给 n 个朋友排买奶茶的顺序，所有可能的排列方式有 n! 种（n=10 时 362 万种可能）。
特点：n 稍微大一点，时间就长得无法计算（n=20 时约 2.4×10¹⁸ 种可能）。

阶乘时间就是 O(n!)，表示算法的运行时间与输入数据的大小成阶乘关系，比如：

```javascript
function factorial(n) {
  if (n <= 1) {
    return 1;
  }
  return n * factorial(n - 1);
}
```

这个算法是阶乘算法，它的运行时间与输入数据的大小成阶乘关系，所以时间复杂度是 O(n!)。

#### 指数时间（几乎不可能算完）

例子：每个人买奶茶时，可以选 n 种不同的购买方式，n 个人就有 nⁿ 种可能（n=10 时 100 亿种可能）。
特点：比 O(n!) 还要慢，现实中几乎不会用这种算法。

指数时间就是 O(n^n)，表示算法的运行时间与输入数据的大小成指数关系，比如：

```javascript
function power(n, m) {
  if (m === 0) {
    return 1;
  }
  return n * power(n, m - 1);
}
```

这个算法是幂运算算法，它的运行时间与输入数据的大小成指数关系，所以时间复杂度是 O(n^n)。

#### 怎么计算时间复杂度？

比如:

- O(1) + O(1) = O(1)
- O(n) + O(n) = O(n)
- O(n) + O(m) = O(n+m)
- O(n) * O(m) = O(n*m)
- O(n) \* O(n) = O(n^2)

#### 总结

| 复杂度  | n=10 的操作次数 | n=100 的操作次数 |
| ------- | --------------- | ---------------- |
| O(1)    | 1               | 1                |
| O(logn) | 3               | 7                |
| O(n)    | 10              | 100              |
| O(n^2)  | 100             | 10000            |
| O(n^3)  | 1000            | 1000000          |
| O(2^n)  | 1024            | 1.268435456e+29  |
| O(n!)   | 3628800         | 9.313225746e+157 |
| O(n^n)  | 10^10           | 10^100           |

- O(1)、O(log n)、O(n) 是高效的，适合大数据量。
- O(n²)、O(n³) 还能接受，但 n 大了会很慢。
- O(2ⁿ)、O(n!) 基本只能用于极小数据，否则算到天荒地老。

### 空间复杂度

空间复杂度和时间复杂度是一样的，用 O 来表示，用来描述该算法的运行空间。比如 O(1)表示常数空间，O(n)表示线性空间，O(n^2)表示平方空间等。

它是算法在运行过程中临时占用存储空间大小的一个度量。

#### 常数空间（最少）

```javascript
let i = 0;
i + = 1;
```
只声明了单个变量 i，所占用的空间也为1，所以空间复杂度为 O(1)。

#### 线性空间（不多）

```javascript
const list = [];
for (let i = 0; i < n; i++) {
  list.push(i);
}
```
声明了一个 list 数组，并且循环 n 次，每次向 list 数组中添加一个元素，占用了n个空间单元，所以空间复杂度为 O(n)。

#### 平方空间（较多）

```javascript
const matrix = [];
for (let i = 0; i < n; i++) {
  matrix.push([]);
  for (let j = 0; j < n; j++) {
    matrix[i].push(j);
  }
}
```
声明了一个二维数组 matrix，并且循环 n 次，每次向 matrix 数组中添加一个一维数组，每个一维数组又循环 n 次，每次向一维数组中添加一个元素，占用了 n^2 个空间单元，所以空间复杂度为 O(n^2)。
